


<script>
	$(document).ready(function(){
		Highcharts.setOptions({chart: { width: 800, height: 450}});
	});
</script>


<style>
#lbFig1container
{
	display:none;
}
</style>
	
<DIV id="lbFig1container"></DIV>

<script>
$(document).ready(function() {
	$('#lbFig1container').css('display','block');

	try {
	
		var chartOptions = {
			chart: {				
				renderTo: 'lbFig1container',
				lineUpAxisZeros: false,
				breakLines : false
			},
			lang: {
				exportButtonTitle: 'Export Data or Image'
			},
			credits: {
				enabled: true,
				text: 'Source: Short-Term Energy Outlook, February 2017',
				style: {
					cursor: 'default'
				},
				position: {
					align: 'left',
					verticalAlign: 'bottom',
					x: 10,
					y: -5
				}
			},
			title: {
				text: 'West Texas intermediate (WTI) crude oil price'
			},
			xAxis: {
				title: {
					text: ''
				},
				type: 'datetime',
				labels: {
					formatter: function() {
						return Highcharts.dateFormat('%b-%Y', this.value);
					},
					style: {
						whiteSpace: 'nowrap',
						wordWrap: 'normal'
					},
					y: 20 
				},
				plotLines: [{
					color: Highcharts.eia_grey,
					dashStyle: 'ShortDash',
					value: Date.UTC(2017, 0, 16),
					width: 2,
					label: {
						text: 'projections',
						verticalAlign: 'top',
						y: 15,
						rotation: 0
					},
					zIndex: 2
				}],
				tickInterval: 365*24*3600*1000/2
			},
			yAxis: [{
				title: {
					text: 'dollars per barrel',
					align: 'above',
					y: -10,
					style: {
						fontWeight: 'normal'
					}
				},
				min: 0,
				max: 120,
				tickInterval: 20,
				labels: {
					formatter: function() {
						return formatNumber(this.value, 0, true, false);
					}
				},
				opposite: false
			}],
			tooltip: {
				snap : 0,
				formatter: function() {
					var xLabel, yLabel;
					var precision, format, frequency;
					
					if('Historical spot price' == this.series.name)
					{
						precision = 2;
						frequency = 'M'; 
					}
					
					if('STEO price forecast' == this.series.name)
					{
						precision = 2;
						frequency = 'M'; 
					}
					
					if('NYMEX futures price' == this.series.name)
					{
						precision = 2;
						frequency = 'M'; 
					}
					
					if('95% NYMEX futures lower confidence interval' == this.series.name)
					{
						precision = 2;
						frequency = 'M'; 
					}
					
					if('95% NYMEX futures upper confidence interval' == this.series.name)
					{
						precision = 2;
						frequency = 'M'; 
					}
					
					var date = new Date(this.x);
					
					if(frequency == 'M'){
					xLabel = Highcharts.dateFormat('%b-%Y', this.x);
					}
					else if(frequency == 'Q') {
					xLabel = 'Q' + (Math.ceil((new Date(this.x).getUTCMonth() + 1)/3)) + ' ' + Highcharts.dateFormat('%Y', this.x);
					}
					else {
						xLabel = Highcharts.dateFormat('%Y', this.x);
					}		
					
					
					
					yLabel = this.y;
					
					
					
					yLabel = formatNumber(yLabel, precision, true, (format == 'percent'));
						
					return '<b>' + xLabel + '</b><br/>' + this.series.name + ' : <b>' + yLabel + '</b>';
				}
			},
			legend: {
				layout: 'vertical',
				align: 'center',
				verticalAlign: 'bottom',
				margin: 30,
				width: 400,
				borderWidth: 0
			},
			series: [{
				name: 'Historical spot price',
				type: 'line',
				yAxis: 0,
				zIndex: 5, 
				color: Highcharts.eia_blue,
				data: [
				
							[Date.UTC(2016,0, 1), 31.683], 
							[Date.UTC(2016,1, 1), 30.323], 
							[Date.UTC(2016,2, 1), 37.545], 
							[Date.UTC(2016,3, 1), 40.754], 
							[Date.UTC(2016,4, 1), 46.712], 
							[Date.UTC(2016,5, 1), 48.757], 
							[Date.UTC(2016,6, 1), 44.651], 
							[Date.UTC(2016,7, 1), 44.724], 
							[Date.UTC(2016,8, 1), 45.182], 
							[Date.UTC(2016,9, 1), 49.775], 
							[Date.UTC(2016,10, 1), 45.661], 
							[Date.UTC(2016,11, 1), 51.97], 
							[Date.UTC(2017,0, 1), 52.49] 
				]
			}, {
				name: 'STEO price forecast',
				type: 'line',
				yAxis: 0,
				zIndex: 4, color: '#a33340', 
				data: [ 
							[Date.UTC(2017,1, 1), 53], 
							[Date.UTC(2017,2, 1), 53], 
							[Date.UTC(2017,3, 1), 53], 
							[Date.UTC(2017,4, 1), 53], 
							[Date.UTC(2017,5, 1), 53], 
							[Date.UTC(2017,6, 1), 54], 
							[Date.UTC(2017,7, 1), 54], 
							[Date.UTC(2017,8, 1), 54], 
							[Date.UTC(2017,9, 1), 54], 
							[Date.UTC(2017,10, 1), 54], 
							[Date.UTC(2017,11, 1), 54], 
							[Date.UTC(2018,0, 1), 54], 
							[Date.UTC(2018,1, 1), 54], 
							[Date.UTC(2018,2, 1), 54], 
							[Date.UTC(2018,3, 1), 55], 
							[Date.UTC(2018,4, 1), 56], 
							[Date.UTC(2018,5, 1), 56], 
							[Date.UTC(2018,6, 1), 56], 
							[Date.UTC(2018,7, 1), 57], 
							[Date.UTC(2018,8, 1), 57], 
							[Date.UTC(2018,9, 1), 58], 
							[Date.UTC(2018,10, 1), 58], 
							[Date.UTC(2018,11, 1), 59] 
				]
			}, {
				name: 'NYMEX futures price',
				type: 'line',
				yAxis: 0,
				zIndex: 3, color: '#5D9732', 
				data: [
				
							[Date.UTC(2017,4, 1), 54.326], 
							[Date.UTC(2017,5, 1), 54.758], 
							[Date.UTC(2017,6, 1), 55.064], 
							[Date.UTC(2017,7, 1), 55.25], 
							[Date.UTC(2017,8, 1), 55.38], 
							[Date.UTC(2017,9, 1), 55.47], 
							[Date.UTC(2017,10, 1), 55.548], 
							[Date.UTC(2017,11, 1), 55.616], 
							[Date.UTC(2018,0, 1), 55.66], 
							[Date.UTC(2018,1, 1), 55.694], 
							[Date.UTC(2018,2, 1), 55.732], 
							[Date.UTC(2018,3, 1), 55.738], 
							[Date.UTC(2018,4, 1), 55.736], 
							[Date.UTC(2018,5, 1), 55.726], 
							[Date.UTC(2018,6, 1), 55.68], 
							[Date.UTC(2018,7, 1), 55.646], 
							[Date.UTC(2018,8, 1), 55.62], 
							[Date.UTC(2018,9, 1), 55.608], 
							[Date.UTC(2018,10, 1), 55.606], 
							[Date.UTC(2018,11, 1), 55.622] 
				]
			}, {
				name: '95% NYMEX futures lower confidence interval',
				type: 'line',
				yAxis: 0,
				zIndex: 2, color: '#5D9732', dashStyle: 'ShortDash',
				data: [
				
				
							[Date.UTC(2017,3, 1), 44.542492129], 
							[Date.UTC(2017,4, 1), 42.334181145], 
							[Date.UTC(2017,5, 1), 40.298775355], 
							[Date.UTC(2017,6, 1), 38.656357361], 
							[Date.UTC(2017,7, 1), 37.588664956], 
							[Date.UTC(2017,8, 1), 36.342571643], 
							[Date.UTC(2017,9, 1), 35.503151839], 
							[Date.UTC(2017,10, 1), 34.711726971], 
							[Date.UTC(2017,11, 1), 34.068320117], 
							[Date.UTC(2018,0, 1), 33.381601431], 
							[Date.UTC(2018,1, 1), 32.906422271], 
							[Date.UTC(2018,2, 1), 32.426764072], 
							[Date.UTC(2018,3, 1), 32.033729549], 
							[Date.UTC(2018,4, 1), 31.622050174], 
							[Date.UTC(2018,5, 1), 31.421745125], 
							[Date.UTC(2018,6, 1), 30.89595194], 
							[Date.UTC(2018,7, 1), 30.596982279], 
							[Date.UTC(2018,8, 1), 30.27010939], 
							[Date.UTC(2018,9, 1), 30.011037641], 
							[Date.UTC(2018,10, 1), 29.759663551], 
							[Date.UTC(2018,11, 1), 29.731159363] 
				]
			}, {
				name: '95% NYMEX futures upper confidence interval',
				type: 'line',
				yAxis: 0,
				zIndex: 1, color: '#5D9732', dashStyle: 'ShortDash',
				data: [
				
						[Date.UTC(2017,3, 1), 65.015369765], 
						[Date.UTC(2017,4, 1), 69.71468908], 
						[Date.UTC(2017,5, 1), 74.405203076], 
						[Date.UTC(2017,6, 1), 78.435846081], 
						[Date.UTC(2017,7, 1), 81.209654653], 
						[Date.UTC(2017,8, 1), 84.38985634], 
						[Date.UTC(2017,9, 1), 86.666133586], 
						[Date.UTC(2017,10, 1), 88.891581412], 
						[Date.UTC(2017,11, 1), 90.792250554], 
						[Date.UTC(2018,0, 1), 92.806679945], 
						[Date.UTC(2018,1, 1), 94.261892418], 
						[Date.UTC(2018,2, 1), 95.786795657], 
						[Date.UTC(2018,3, 1), 96.982920434], 
						[Date.UTC(2018,4, 1), 98.238465845], 
						[Date.UTC(2018,5, 1), 98.829236366], 
						[Date.UTC(2018,6, 1), 100.34526225], 
						[Date.UTC(2018,7, 1), 101.20204953], 
						[Date.UTC(2018,8, 1), 102.19931352], 
						[Date.UTC(2018,9, 1), 103.03707926], 
						[Date.UTC(2018,10, 1), 103.89993928], 
						[Date.UTC(2018,11, 1), 104.0594094] 
				]
			}],
			captions: {
				items: [{
					text: 'Note: Confidence interval derived from options market information for the 5 trading days ending Feb. 2 2017.  Intervals not calculated for months with sparse trading in near-the-money options contracts.'
				}, {
					text: ''
				}]
			}
		};
		
		var chart = new Highcharts.Chart(chartOptions);
	}
	catch(err)
	{
		throw(err);
	}
});
</script>
